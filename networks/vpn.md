# `VPN`技术学习记录

## 什么是`VPN`技术

`VPN`属于远程访问技术，简单地说就是利用公用网络架设专用网络。例如某公司员工出差到外地，他想访问企业内网的服务器资源，这种访问就属于远程访问。 

在传统的企业网络配置中，要进行远程访问，传统的方法是租用`DDN`（数字数据网）专线或帧中继，这样的通讯方案必然导致高昂的网络通讯和维护费用。对于移动用户（移动办公人员）与远端个人用户而言，一般会通过拨号线路（`Internet`）进入企业的局域网，但这样必然带来安全上的隐患。 

让外地员工访问到内网资源，利用`VPN`的解决方法就是在内网中架设一台`VPN`服务器。外地员工在当地连上互联网后，通过互联网连接`VPN`服务器，然后通过`VPN`服务器进入企业内网。为了保证数据安全，`VPN`服务器和客户机之间的通讯数据都进行了加密处理。有了数据加密，就可以认为数据是在一条专用的数据链路上进行安全传输，就如同专门架设了一个专用网络一样，但实际上`VPN`使用的是互联网上的公用链路，因此`VPN`称为虚拟专用网络，其实质上就是利用加密技术在公网上封装出一个数据通讯隧道。有了`VPN`技术，用户无论是在外地出差还是在家中办公，只要能上互联网就能利用`VPN`访问内网资源，这就是`VPN`在企业中应用得如此广泛的原因.

##  常用的`VPN`技术

`GRE`,`PPTP`,`L2TP+IPSec`

## `GRE ` `VPN`

### 简介

​	通用路由封装协议`GRE`（Generic Routing Encapsulation）可以对某些网络层协议（如`IPX`、`ATM`、`IPv6`、`AppleTalk`等）的数据报文进行封装，使这些被封装的数据报文能够在另一个网络层协议（如`IPv4`）中传输。`GRE`提供了将一种协议的报文封装在另一种协议报文中的机制，是一种三层隧道封装技术，使报文可以通过`GRE`隧道透明的传输，解决异种网络的传输问题。

​    `GRE`实现机制简单，对隧道两端的设备负担小。`GRE`隧道可以通过`IPv4`网络连通多种网络协议的本地网络，有效利用了原有的网络架构，降低成本。`GRE`隧道扩展了跳数受限网络协议的工作范围，支持企业灵活设计网络拓扑。`GRE`隧道可以**封装组播数据**，和`IPSec`结合使用时可以保证语音、视频等组播业务的安全。`GRE`隧道**支持使能 ** **`MPLS LDP`**，使用`GRE`隧道承载`MPLS LDP`报文，建立`LDP` `LSP`，实现`MPLS`骨干网的互通。`GRE`隧道将不连续的子网连接起来，用于组建`VPN`，实现企业总部和分支间安全的连接。